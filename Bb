// SecLendCommissiep.java
package com.example.xmlparser.model;

import jakarta.xml.bind.annotation.*;
import java.util.List;

@XmlRootElement(name = "SecLendCommissiep")
@XmlAccessorType(XmlAccessType.FIELD)
public class SecLendCommissiep {
    @XmlAttribute
    private String xmlId;
    @XmlAttribute
    private String tmstmp;
    @XmlAttribute
    private String repFreq;
    @XmlAttribute
    private String repMode;
    @XmlAttribute
    private String repActvFlg;

    @XmlElement(name = "CustRepOptSubscr")
    private CustRepOptSubscr custRepOptSubscr;

    @XmlElement(name = "StentNbr")
    private String stentNbr;

    @XmlElement(name = "SecLendCommissRep.info")
    private SecLendCommissRepInfo secLendCommissRepInfo;

    @XmlElement(name = "SecLendCommiss.section")
    private SecLendCommissSection secLendCommissSection;

    // Getters and setters
}

// CustRepOptSubscr.java
package com.example.xmlparser.model;

import jakarta.xml.bind.annotation.*;

@XmlAccessorType(XmlAccessType.FIELD)
public class CustRepOptSubscr {
    @XmlAttribute
    private String schdId;
    @XmlAttribute
    private String tmplId;
    @XmlAttribute
    private String tmplDetlId;

    @XmlElement(name = "RepSubscrim")
    private String repSubscrim;

    // Getters and setters
}

// SecLendCommissRepInfo.java
package com.example.xmlparser.model;

import jakarta.xml.bind.annotation.*;

@XmlAccessorType(XmlAccessType.FIELD)
public class SecLendCommissRepInfo {
    @XmlElement(name = "XchgRate")
    private XchgRate xchgRate;

    // Getters and setters
}

// XchgRate.java
package com.example.xmlparser.model;

import jakarta.xml.bind.annotation.*;

@XmlAccessorType(XmlAccessType.FIELD)
public class XchgRate {
    @XmlAttribute
    private String frstIsoCurrCd;
    @XmlAttribute
    private String recpIsoCurrCd;
    @XmlValue
    private double value;

    // Getters and setters
}

// SecLendCommissSection.java
package com.example.xmlparser.model;

import jakarta.xml.bind.annotation.*;
import java.util.List;

@XmlAccessorType(XmlAccessType.FIELD)
public class SecLendCommissSection {
    @XmlElement(name = "SecInstr")
    private SecInstr secInstr;

    @XmlElement(name = "SecLendCommissDetl")
    private List<SecLendCommissDetl> secLendCommissDetl;

    // Getters and setters
}

// SecInstr.java
package com.example.xmlparser.model;

import jakarta.xml.bind.annotation.*;

@XmlAccessorType(XmlAccessType.FIELD)
public class SecInstr {
    @XmlAttribute
    private String isinCd;
    @XmlAttribute
    private String commonCd;
    @XmlAttribute
    private String instrTyp;

    @XmlElement(name = "SecNm")
    private String secNm;

    // Getters and setters
}

// SecLendCommissDetl.java
package com.example.xmlparser.model;

import jakarta.xml.bind.annotation.*;

@XmlAccessorType(XmlAccessType.FIELD)
public class SecLendCommissDetl {
    @XmlAttribute
    private String loanTyp;
    @XmlAttribute
    private String lenBorrInd;
    @XmlAttribute
    private String streetChgd;

    @XmlElement(name = "LoanRef")
    private String loanRef;
    @XmlElement(name = "UTI")
    private String uti;
    @XmlElement(name = "ExtRef")
    private String extRef;
    @XmlElement(name = "LoanOpngDt")
    private String loanOpngDt;
    @XmlElement(name = "LoanClsgDt")
    private String loanClsgDt;
    @XmlElement(name = "LoanQty")
    private LoanQty loanQty;
    @XmlElement(name = "LoanVal")
    private LoanVal loanVal;
    @XmlElement(name = "BondPrcAccrint")
    private double bondPrcAccrint;
    @XmlElement(name = "XchgRate")
    private XchgRate xchgRate;
    @XmlElement(name = "FeeRate")
    private double feeRate;
    @XmlElement(name = "DivCoupReq")
    private double divCoupReq;
    @XmlElement(name = "HdlgFeeAmnt")
    private HdlgFeeAmnt hdlgFeeAmnt;
    @XmlElement(name = "CurntCommissAmnt")
    private CurntCommissAmnt curntCommissAmnt;
    @XmlElement(name = "AccrCommissAmnt")
    private AccrCommissAmnt accrCommissAmnt;
    @XmlElement(name = "CollPldgMrktVal")
    private CollPldgMrktVal collPldgMrktVal;
    @XmlElement(name = "CollPldgFeeRate")
    private double collPldgFeeRate;
    @XmlElement(name = "CollPldgCurntCommissAmnt")
    private CollPldgCurntCommissAmnt collPldgCurntCommissAmnt;
    @XmlElement(name = "CollPldgAccrCommissAmnt")
    private CollPldgAccrCommissAmnt collPldgAccrCommissAmnt;
    @XmlElement(name = "CurntCommissStartDt")
    private String curntCommissStartDt;
    @XmlElement(name = "CurntCommissEndDt")
    private String curntCommissEndDt;

    // Getters and setters
}

// LoanQty.java
package com.example.xmlparser.model;

import jakarta.xml.bind.annotation.*;

@XmlAccessorType(XmlAccessType.FIELD)
public class LoanQty {
    @XmlAttribute
    private String qtyTyp;
    @XmlValue
    private double value;

    // Getters and setters
}

// LoanVal.java, HdlgFeeAmnt.java, CurntCommissAmnt.java, AccrCommissAmnt.java, CollPldgMrktVal.java, CollPldgCurntCommissAmnt.java, CollPldgAccrCommissAmnt.java
// Create similar classes for these elements with isoCurrCd attribute and value

// XmlParserService.java
package com.example.xmlparser.service;

import com.example.xmlparser.model.SecLendCommissiep;
import jakarta.xml.bind.JAXBContext;
import jakarta.xml.bind.JAXBException;
import jakarta.xml.bind.Unmarshaller;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Service;

import java.io.File;

@Service
public class XmlParserService {

    @Value("${xml.file.path}")
    private String xmlFilePath;

    public SecLendCommissiep parseXml() throws JAXBException {
        File xmlFile = new File(xmlFilePath);
        JAXBContext jaxbContext = JAXBContext.newInstance(SecLendCommissiep.class);
        Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();
        return (SecLendCommissiep) unmarshaller.unmarshal(xmlFile);
    }
}

// XmlParserController.java
package com.example.xmlparser.controller;

import com.example.xmlparser.model.SecLendCommissiep;
import com.example.xmlparser.service.XmlParserService;
import jakarta.xml.bind.JAXBException;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/api")
public class XmlParserController {

    @Autowired
    private XmlParserService xmlParserService;

    @GetMapping("/parse-xml")
    public ResponseEntity<SecLendCommissiep> parseXml() {
        try {
            SecLendCommissiep result = xmlParserService.parseXml();
            return ResponseEntity.ok(result);
        } catch (JAXBException e) {
            e.printStackTrace();
            return ResponseEntity.internalServerError().build();
        }
    }
}

server.port=8080
xml.file.path=/path/to/your/xml/file.xml

// Application.java
package com.example.xmlparser;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
